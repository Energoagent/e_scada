<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8">
		<title>ESA SCADA</title>
		<meta name="viewport" content="height=device-height, width=device-width, initial-scale=1">

		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">

		<script type="text/javascript">
			function floorChart() {
				setInterval(
					function() {
						var req = new XMLHttpRequest();
						req.open("POST", "http://".concat(window.location.host,"/parameter/?page=3"));
						req.onreadystatechange = function() {
							if(this.readyState === 4 && this.status === 200) {
								parameters = JSON.parse(this.response);
								for(let i=0; i < parameters.length; i++) {
									let elem = document.getElementById(parameters[i].ID);
									if(elem != null) {
										elem.innerHTML = parameters[i].Value;
										elem.style.fill = parameters[i].color;
									};
								};
							};
						};
						req.send();
					}, 
					5000
				);
			}
			function svgScale() {
				h = window.innerHeight;
				w = window.innerWidth;
				let elem=document.getElementById("floor_2"); 
					if(elem !=null) { 
						elem.style.width = w *0.95;
						elem.style.height = h * 0.95;
					};
			}
			floorChart();
		</script>
	</head>
	<body onresize="svgScale();" onload="svgScale();">
	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-8">
				<form id="navigation">
					<button buttontype="submit" class="btn btn-basic" formmethod="get" formaction="page_1">Сводная</button>
					<button buttontype="submit" class="btn btn-basic" formmethod="get" formaction="page_2">2 Этаж</button>
					<button buttontype="submit" class="btn btn-basic" disabled>3 Этаж</button>
				</form>
			</div>
			<div class="col-sm-2">
				<p style="font-size: 1.5em">Этаж 3</p>
			</div>
		</div>
	</div>
	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-12">
				<div class="container-fluid" >
		<svg id="floor_2" width="1600" height="800" viewBox="0 0 800 500" preserveAspectRatio='none'  xmlns="http://www.w3.org/2000/svg" version="1.1">
		<path id="svg_1" stroke-width="0.5" stroke="black" fill="none" d="m0.25,0.25l0,434.2m0,0l795.48,0m0,0l0,-434.2m0,0l-795.48,0"/>
		<path id="svg_2" stroke-width="0.5" stroke="black" fill="none" d="m371.94,170.46l-6.95,0m0,0l0,-13.9m0,0l-3.47,0m0,0l0,-10.42m0,0l6.94,0m0,0l0,3.47m0,0l34.74,0m0,0l0,-48.63m0,0l-34.74,0m0,0l0,24.32m0,0l-6.94,0m0,0l0,-24.32m0,0l-3.48,0m0,0l0,-6.95m0,0l45.16,0m0,0l0,-34.73m0,0l6.95,0m0,0l0,66m0,0l31.26,0m0,0l0,6.94m0,0l-31.26,0m0,0l0,76.43m0,0l34.73,0m0,0l0,13.89m0,0l-79.89,0m0,0l0,-13.89m0,0l0,-17.37m0,0l6.95,0m0,0l0,17.37m0,0l31.26,0m0,0l0,-52.11m0,0l-31.26,0m0,0l0,13.9"/>
		<path id="svg_3" stroke-width="0.5" stroke="black" fill="none" d="m556.04,222.56l-79.89,0m0,0l0,-13.89m0,0l38.21,0m0,0l0,-76.42m0,0l-41.69,-0.01m0,0l0,-6.94m0,0l41.69,0m0,0l0,-107.69m0,0l-104.21,0m0,0l0,10.42m0,0l-6.95,0m0,0l0,-10.42m0,0l-79.89,0m0,0l0,76.42m0,0l6.94,0m0,0l0,6.95m0,0l-6.94,0m0,0l0,107.69m0,0l10.42,0m0,0l0,13.89m0,0l-125.06,0m0,0l0,-13.89m0,0l6.95,0m0,0l0,-17.37m0,0l13.9,0m0,0l0,17.37m0,0l79.89,0m0,0l0,-191.06m0,0l-79.89,0m0,0l0,142.42m0,0l-13.9,0m0,0l0,-142.42m0,0l-52.1,0m0,0l0,66m0,0l-10.42,0m0,0l0,-10.42m0,0l-41.69,0m0,0l0,-55.58m0,0l-93.79,0m0,0l0,191.06m0,0l138.95,0m0,0l0,-97.27m0,0l6.95,0m0,0l0,97.27m0,0l6.94,0m0,0l0,13.89m0,0l-13.89,0m0,0l0,17.37m0,0l-6.95,0m0,0l0,-17.37m0,0l-132,0m0,0l0,83.37m0,0l132,0m0,0l0,-34.74m0,0l6.95,0m0,0l0,79.9m0,0l10.42,0m0,0l0,6.94m0,0l-17.37,0m0,0l0,-45.15m0,0l-132,0m0,0l0,104.21m0,0l187.58,0m0,0l0,-59.06m0,0l-3.47,0m0,0l0,-6.94m0,0l3.47,0m0,0l0,-20.85m0,0l6.95,0m0,0l0,86.85m0,0l93.79,0m0,0l0,-128.53m0,0l-93.79,0m0,0l0,6.95m0,0l-3.48,0m0,0l0,-6.95m0,0l-6.94,0m0,0l0,-6.95m0,0l333.47,0m0,0l0,6.95m0,0l-27.79,0m0,0l0,86.84m0,0l-6.95,0m0,0l0,-86.84m0,0l-187.58,0m0,0l0,128.53m0,0l187.58,0m0,0l0,-10.42m0,0l6.95,0m0,0l0,10.42m0,0l132,0m0,0l0,-55.58m0,0l6.95,0m0,0l0,55.58m0,0l132,0m0,0l0,-128.53m0,0l-132,0m0,0l0,41.68m0,0l-6.95,0m0,0l0,-41.68m0,0l-59.05,0m0,0l0,-6.95m0,0l198,0m0,0l0,-59.05m0,0l-72.95,0m0,0l0,-104.21m0,0l17.37,0m0,0l0,6.95m0,0l-10.42,0m0,0l0,83.37m0,0l66,0m0,0l0,-83.37m0,0l-20.84,0m0,0l0,-6.95m0,0l20.84,0m0,0l0,-100.74m0,0l-128.53,0m0,0l0,10.42m0,0l-6.95,0m0,0l0,-10.42m0,0l-125.05,0m0,0l0,191.06m0,0l125.05,0m0,0l0,-132m0,0l6.95,0m0,0l0,132m0,0l24.32,0m0,0l0,13.89m0,0l-118.11,0"/>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_5" y="32.5" x="27" stroke-width="0" stroke="#000" fill="#000000">303. Склад</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_6" y="46.5" x="331" stroke-width="0" stroke="#000" fill="#000000">320. Санпропускник</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_7" y="66.5" x="419" stroke-width="0" stroke="#000" fill="#000000">316. Изолятор</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_8" y="86.5" x="416" stroke-width="0" stroke="#000" fill="#000000">Температура</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_9" y="98.43548" x="417.64516" stroke-width="0" stroke="#000" fill="#000000">Влажность</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_10" y="110.27419" x="417.58064" stroke-width="0" stroke="#000" fill="#000000">Давление</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbT317" y="87.06327" x="482.62932" stroke-width="0" stroke="#000" fill="#000000">mbT317</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbW317" y="98.17265" x="476.9645" stroke-width="0" stroke="#000" fill="#000000">mbW317</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbdP317_316" y="110.43071" x="470.48145" stroke-width="0" stroke="#000" fill="#000000">mbdP317_316</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_14" y="144.97599" x="415.74008" stroke-width="0" stroke="#000" fill="#000000">315. Мойка клеток</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_14" y="144.97599" x="330.74008" stroke-width="0" stroke="#000" fill="#000000">317. Тамбур</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_15" y="30.88707" x="525.22568" stroke-width="0" stroke="#000" fill="#000000">314. Кролики</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_16" y="46.37094" x="524.58052" stroke-width="0" stroke="#000" fill="#000000">Температура</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbT315" y="46.07195" x="592.62145" stroke-width="0" stroke="#000" fill="#000000">mbT315</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_18" y="57.68485" x="526.65764" stroke-width="0" stroke="#000" fill="#000000">Влажность</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbW315" y="56.74069" x="590.02508" stroke-width="0" stroke="#000" fill="#000000">mbW315</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_20" y="68.66832" x="526.50028" stroke-width="0" stroke="#000" fill="#000000">Давление</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbdP315_313" y="68.8414" x="584.51762" stroke-width="0" stroke="#000" fill="#000000">mmbdP315_313</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_22" y="32.1774" x="660.06438" stroke-width="0" stroke="#000" fill="#000000">312. Мойка</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_23" y="136.04836" x="718.12889" stroke-width="0" stroke="#000" fill="#000000">313. Мойка</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_24" y="150.2419" x="715.54825" stroke-width="0" stroke="#000" fill="#000000">стеллажей</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_25" y="250.88705" x="478.12891" stroke-width="0" stroke="#000" fill="#000000">308. Блок содержания животных</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_26" y="240.56447" x="28.45154" stroke-width="0" stroke="#000" fill="#000000">304. Комната отдыха</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_27" y="323.79027" x="27.16121" stroke-width="0" stroke="#000" fill="#000000">306. Операционная</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_28" y="340.56447" x="25.22573" stroke-width="0" stroke="#000" fill="#000000">Температура</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbT306" y="340.26804" x="96.71657" stroke-width="0" stroke="#000" fill="#000000">mbT306</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_30" y="352.63072" x="26.62067" stroke-width="0" stroke="#000" fill="#000000">Влажность</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbW306" y="352.73534" x="91.76452" stroke-width="0" stroke="#000" fill="#000000">mbW306</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_32" y="365.34215" x="25.85346" stroke-width="0" stroke="#000" fill="#000000">Давление</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbdP306_305" y="366.31861" x="83.86566" stroke-width="0" stroke="#000" fill="#000000">mbdP306_305</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_34" y="314.63595" x="179.4367" stroke-width="0" stroke="#000" fill="#000000">307. Манипуляционная</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_35" y="297.98382" x="351.03215" stroke-width="0" stroke="#000" fill="#000000">309. Крысы</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_36" y="311.65812" x="346.67338" stroke-width="0" stroke="#000" fill="#000000">Температура</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbT309" y="312.00428" x="417.46803" stroke-width="0" stroke="#000" fill="#000000">mbT309</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_38" y="325.72576" x="347.79062" stroke-width="0" stroke="#000" fill="#000000">Влажность</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbW309" y="325.25368" x="414.71431" stroke-width="0" stroke="#000" fill="#000000">mbW309</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_40" y="338.62898" x="347.80635" stroke-width="0" stroke="#000" fill="#000000">Давление</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbdP309_310" y="339.3056" x="408.89213" stroke-width="0" stroke="#000" fill="#000000">mbdP309_310</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_42" y="302.49995" x="518.77407" stroke-width="0" stroke="#000" fill="#000000">310. Моечная</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="10" id="svg_43" y="304.43544" x="662.64503" stroke-width="0" stroke="#000" fill="#000000">311. Мыши</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_44" y="321.85479" x="658.77406" stroke-width="0" stroke="#000" fill="#000000">Температура</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbT312" y="322.21668" x="728.92355" stroke-width="0" stroke="#000" fill="#000000">mbT312</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_46" y="333.32606" x="661.3547" stroke-width="0" stroke="#000" fill="#000000">Влажность</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbW312" y="333.35751" x="728.12103" stroke-width="0" stroke="#000" fill="#000000">mbW312</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="svg_48" y="344.93896" x="661.3547" stroke-width="0" stroke="#000" fill="#000000">Давление</text>
		<text xml:space="preserve" text-anchor="start" font-family="Arial" font-size="8" id="mbdP312_310" y="343.581" x="716.59443" stroke-width="0" stroke="#000" fill="#000000">mbdP312_310</text>
		</svg>
				</div>
			</div>
		</div>
	</div>
	</body>
</html>